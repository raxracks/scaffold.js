let dirty=new Set;function evaluate(e){let t=Function("element",`window.element=element;${e.template?"":"return "}${e.expression}`)(e);return"Array"===t?.constructor?.name?t?.join(""):t}function $(e){let t=e,r=new Set;return[()=>((element?.targetProperty&&element.expression||element?.template&&element.expression)&&r.add(element),t),e=>{e!==t&&(t=e,[...r].forEach((e=>{e.newValue=evaluate(e),dirty.add(e)})))}]}function updateDirty(){[...dirty].forEach((e=>{e[e.targetProperty]=e.newValue})),dirty.clear(),requestAnimationFrame(updateDirty)}function parse(e){[...e.attributes].forEach((({name:t,value:r})=>{t.startsWith(":")&&(e.targetProperty=":inner-html"===t?"innerHTML":t.slice(1).split("-").map(((e,t)=>0===t?e.toLowerCase():e[0].toUpperCase()+e.slice(1).toLowerCase())).join(""),e.expression=r,e[e.targetProperty]=evaluate(e))}))}requestAnimationFrame(updateDirty),document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll("*").forEach((e=>{parse(e)})),document.querySelectorAll("template").forEach((e=>{e.expression=`[...element.parentNode.children].forEach(child => {if(!child.template)child.remove();});${e.getAttribute("expression")} {[...element.content.children].forEach(child => {let clone = child.cloneNode(true);parse(clone);element.parentNode.appendChild(clone);});}`,e.template=!0,evaluate(e)}))}));
